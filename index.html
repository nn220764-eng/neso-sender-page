<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <title>Bツール</title>
  <link rel="stylesheet" href="style.css">
  <!-- ethers.js v6 CDN -->
  <script src="https://cdn.jsdelivr.net/npm/ethers@6/dist/ethers.umd.min.js"></script>
</head>
<body>
  <div class="container">
    <h2>Bツール</h2>
    <div id="status" class="status-box">未接続</div>
    <div class="button-group">
      <button id="connectBtn">MetaMask 接続</button>
      <button id="toggleSingleAddBtn" class="toggle-button">単一宛先を追加</button>
      <button id="toggleMultiAddBtn" class="toggle-button">複数宛先に分配</button>
    </div>

    <div id="singleAddSection">
      <h3>単一の宛先を追加</h3>
      <div class="add-form">
        <select id="singleAddressSelect" class="input-field"><option value="">宛先を選択...</option></select>
        <input type="number" id="amountToAdd" placeholder="NESO" class="input-field amount-input">
        <button id="addToListBtn" class="add-button">↓ リストに追加</button>
      </div>
    </div>

    <div id="multiAddSection">
      <h3>複数宛先に分配</h3>
      <div class="distribute-form">
        <select id="multiAddressSelect" class="input-field" multiple size="5"></select>
        <input type="number" id="totalAmountToDistribute" placeholder="分配する合計NESO" class="input-field">
        <button id="distributeBtn" class="add-button">↓ 分配してリストに追加</button>
      </div>
    </div>

    <h3>送金リスト（1行 = アドレス,NESO）</h3>
    <textarea id="batchList" placeholder="0x宛先アドレス,NESO&#10;0x宛先アドレス,NESO"></textarea>
    <br>
    <button id="sendBtn" class="send-button">複数送金開始</button>

    <pre id="info"></pre>
  </div>

  <script src="app.js" defer></script>
</body>
</html>
